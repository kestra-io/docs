(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{644:function(t,a,e){"use strict";e.r(a);var s=e(19),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"vault-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vault-configuration"}},[t._v("#")]),t._v(" Vault configuration")]),t._v(" "),e("p",[t._v("The integration will store secret in vault "),e("a",{attrs:{href:"https://www.vaultproject.io/docs/secrets/kv/kv-v2",target:"_blank",rel:"noopener noreferrer"}},[t._v("KV Secrets Engine - Version 2"),e("OutboundLink")],1),t._v(". Kestra authentications must have a full "),e("a",{attrs:{href:"https://www.vaultproject.io/docs/concepts/policies",target:"_blank",rel:"noopener noreferrer"}},[t._v("read & write policies"),e("OutboundLink")],1),t._v(" on this secrets store. You can optionally change "),e("code",[t._v("root-engine")]),t._v(" or "),e("code",[t._v("namespace")]),t._v(" (if you are using Vault Enterprise).")]),t._v(" "),e("h2",{attrs:{id:"authentication"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#authentication"}},[t._v("#")]),t._v(" Authentication")]),t._v(" "),e("h3",{attrs:{id:"password-authentification"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#password-authentification"}},[t._v("#")]),t._v(" Password authentification")]),t._v(" "),e("p",[t._v("We can use an "),e("a",{attrs:{href:"https://www.vaultproject.io/docs/auth/userpass",target:"_blank",rel:"noopener noreferrer"}},[t._v("Userpass Auth Method"),e("OutboundLink")],1),t._v(" using following configuration:")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kestra")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("secret")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" vault\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("vault")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("address")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhostt:8200"')]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("user")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" john\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" foo\n")])])]),e("h3",{attrs:{id:"token-authentification"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#token-authentification"}},[t._v("#")]),t._v(" Token authentification")]),t._v(" "),e("p",[t._v("We can use an "),e("a",{attrs:{href:"https://www.vaultproject.io/docs/auth/token",target:"_blank",rel:"noopener noreferrer"}},[t._v("Token Auth Method"),e("OutboundLink")],1),t._v(" using following configuration:")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kestra")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("secret")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" vault\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("vault")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("address")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhostt:8200"')]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("token")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("token")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" your"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("secret"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("token\n")])])]),e("h3",{attrs:{id:"approle-authentification"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#approle-authentification"}},[t._v("#")]),t._v(" AppRole authentification")]),t._v(" "),e("p",[t._v("We can use an "),e("a",{attrs:{href:"https://www.vaultproject.io/docs/auth/approle",target:"_blank",rel:"noopener noreferrer"}},[t._v("AppRole Auth Method"),e("OutboundLink")],1),t._v(" using following configuration:")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kestra")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("secret")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" vault\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("vault")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("address")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhostt:8200"')]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app-role")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("path")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" approle\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("role-id")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" your"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("role"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("id\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("secret-id")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" your"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("secret"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("id\n")])])]),e("h2",{attrs:{id:"others-configurations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#others-configurations"}},[t._v("#")]),t._v(" Others configurations")]),t._v(" "),e("h3",{attrs:{id:"kestra-secret-vault-address"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kestra-secret-vault-address"}},[t._v("#")]),t._v(" "),e("code",[t._v("kestra.secret.vault.address")])]),t._v(" "),e("p",[t._v("The fully qualified address with scheme & port to your vault instance.")]),t._v(" "),e("h3",{attrs:{id:"kestra-secret-vault-namespace"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kestra-secret-vault-namespace"}},[t._v("#")]),t._v(" "),e("code",[t._v("kestra.secret.vault.namespace")])]),t._v(" "),e("p",[t._v("Optional. Sets a global namespace to the Vault server instance. Namespace support requires "),e("a",{attrs:{href:"https://learn.hashicorp.com/vault/operations/namespaces",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vault Enterprise Pro"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"kestra-secret-vault-engine-version"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kestra-secret-vault-engine-version"}},[t._v("#")]),t._v(" "),e("code",[t._v("kestra.secret.vault.engine-version")])]),t._v(" "),e("p",[t._v("Optional. Sets the KV Secrets Engine version of the Vault server instance. Default is "),e("code",[t._v("2")])]),t._v(" "),e("h3",{attrs:{id:"kestra-secret-vault-root-engine"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kestra-secret-vault-root-engine"}},[t._v("#")]),t._v(" "),e("code",[t._v("kestra.secret.vault.root-engine")])]),t._v(" "),e("p",[t._v("Optional. Sets the KV Secrets Engine of the Vault server instance. Default is "),e("code",[t._v("secret")])])])}),[],!1,null,null,null);a.default=n.exports}}]);