---
import { getCollection } from "astro:content";
import WhatsNewRender from "../../../components/content/WhatsNewRender.vue";

const blogs = await getCollection('blogs')

const recentBlogs = blogs
  .sort((a, b) => b.data.date.getTime() - a.data.date.getTime())
  .slice(0, 3)
  .map(blog => ({
    path: `/blogs/${blog.id}`,
    ...blog.data,
  }))
---

<WhatsNewRender title="What's New" posts={recentBlogs} />